{"version":3,"file":"board.js","sourceRoot":"","sources":["../../src/engine/board.ts"],"names":[],"mappings":"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"}